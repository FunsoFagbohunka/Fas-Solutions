@use '../../../styles/variables' as variables;
@use '../../../styles/mixins' as mixins;
@use '../../../styles/typography' as typography;

.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  padding: variables.$space-4 0;
  transition: all 0.3s ease;
  background: transparent;

  &--scrolled {
    background: rgba(variables.$color-bg-dark, 0.9);
    backdrop-filter: blur(12px);
    padding: variables.$space-3 0;
    box-shadow: variables.$shadow-sm;
  }
}

.logo {
  color: variables.$color-bg-white;
  font-family: typography.$font-heading;
  font-size: typography.$text-xl;

  .header--scrolled & {
    color: variables.$color-primary-light;
  }
}

.nav-link {
  color: rgba(variables.$color-bg-white, 0.9);
  font-family: typography.$font-body;
  font-weight: 500;
  font-size: typography.$text-sm;
  position: relative;
  transition: color 0.3s ease;

  &:hover {
    color: variables.$color-bg-white;
    &::after {
      width: 100%;
    }
  }

  &::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: variables.$color-primary-light;
    transition: width 0.3s ease;
  }
}

.hidden-mobile {
  @include mixins.respond-below(mixins.$bp-md) {
    display: none !important;
  }
}

.hidden-desktop {
  @include mixins.respond-to(mixins.$bp-md) {
    display: none !important;
  }
}

// ---- Hamburger toggle ----
.menu-toggle {
  display: flex;
  flex-direction: column;
  gap: 5px;
  padding: 6px;
  cursor: pointer;
  z-index: 1010;

  .bar {
    display: block;
    width: 24px;
    height: 2px;
    background: variables.$color-bg-white;
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  &.open {
    .bar:nth-child(1) {
      transform: translateY(7px) rotate(45deg);
    }
    .bar:nth-child(2) {
      opacity: 0;
    }
    .bar:nth-child(3) {
      transform: translateY(-7px) rotate(-45deg);
    }
  }
}

// ---- Mobile Drawer ----
.mobile-drawer {
  position: fixed;
  inset: 0;
  z-index: 999;
  pointer-events: none;
  visibility: hidden;

  &--open {
    pointer-events: auto;
    visibility: visible;

    .mobile-drawer__overlay {
      opacity: 1;
    }

    .mobile-drawer__panel {
      transform: translateX(0);
    }
  }
}

.mobile-drawer__overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.mobile-drawer__panel {
  position: absolute;
  top: 0;
  right: 0;
  width: 280px;
  height: 100%;
  background: variables.$color-bg-dark;
  padding: variables.$space-12 variables.$space-6 variables.$space-6;
  display: flex;
  flex-direction: column;
  gap: variables.$space-1;
  transform: translateX(100%);
  transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: -8px 0 30px rgba(0, 0, 0, 0.3);
}

.mobile-drawer__link {
  font-family: typography.$font-body;
  font-weight: 500;
  font-size: typography.$text-lg;
  color: rgba(variables.$color-bg-white, 0.85);
  padding: variables.$space-3 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  transition: color 0.2s ease;

  &:hover {
    color: variables.$color-primary-light;
  }
}

.mobile-drawer__divider {
  height: 1px;
  background: rgba(255, 255, 255, 0.1);
  margin: variables.$space-3 0;
}

.mobile-drawer__cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: variables.$space-3 variables.$space-5;
  border-radius: variables.$radius-full;
  background: variables.$gradient-primary;
  color: variables.$color-bg-white;
  font-family: typography.$font-body;
  font-weight: 600;
  font-size: typography.$text-base;
  text-align: center;
  transition: all 0.3s ease;
  margin-top: variables.$space-5;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(variables.$color-primary, 0.3);
  }
}

// ---- CTA button ----
.btn {
  padding: variables.$space-2 variables.$space-4;
  border-radius: variables.$radius-full;
  font-family: typography.$font-body;
  font-weight: 600;
  font-size: typography.$text-sm;
  transition: all 0.3s ease;
}

.btn-primary {
  background: variables.$color-primary;
  color: variables.$color-bg-white;

  &:hover {
    background: variables.$color-primary-dark;
    box-shadow: variables.$shadow-md;
    transform: translateY(-2px);
  }
}
